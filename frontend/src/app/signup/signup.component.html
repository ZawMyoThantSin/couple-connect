<div class="h-screen flex items-center justify-center bg-love-lavender md:p-6 sm:p-0 overflow-hidden">
  <div class="relative flex flex-col md:flex-row items-center bg-white shadow-lg rounded-lg w-full max-w-5xl sm:h-[100vh] md:h-[95vh] p-8 md:p-12 sm:p-10">

    <!-- Form Section -->
    <div
      class="relative w-full md:w-1/2 px-6 sm:px-8 md:px-10 py-8 sm:py-0 md:py-2 bg-white bg-opacity-90 rounded-lg z-10">
      <h3 class="md:text-3xl  font-bold text-primary mb-6 flex items-center justify-center">
        Sign up for CoupleConnect
        <i-lucide name="heart" class="ml-2 text-love-red animate-heartbeat"></i-lucide>
      </h3>

      <button
        class="w-full flex items-center justify-center bg-white border border-gray-300 text-gray-700 font-semibold py-2 px-4 rounded-lg shadow-sm hover:bg-gray-100 transition duration-300">
        <img src="https://www.svgrepo.com/show/355037/google.svg" alt="Google Logo" class="w-5 h-5 mr-2">
        Sign in with Google
      </button>

      <div class="flex items-center my-4">
        <hr class="w-full border-gray-300">
        <span class="px-3 text-gray-500">or</span>
        <hr class="w-full border-gray-300">
      </div>

      <!-- Error Alert -->
      <div *ngIf="showErrorAlert && isMobile" id="alert-2" [ngClass]="{ 'fade-out': isClosing }"
        class="absolute top-0 left-1/2 transform -translate-x-1/2 -translate-y-5 w-full max-w-xs flex items-center p-4 mb-4 text-red-800 rounded-lg bg-red-50 dark:bg-gray-800 dark:text-red-400 shadow-lg"
        role="alert">

        <svg class="shrink-0 w-4 h-4" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor"
          viewBox="0 0 20 20">
          <path
            d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z" />
        </svg>

        <span class="sr-only">Error</span>
        <div class="ms-3 text-sm font-medium">
          {{ errorMessage }}
        </div>

        <button type="button" (click)="closeErrorAlert()"
          class="ms-auto -mx-1.5 -my-1.5 bg-red-50 text-red-500 rounded-lg focus:ring-2 focus:ring-red-400 p-1.5 hover:bg-red-200 inline-flex items-center justify-center h-8 w-8 dark:bg-gray-800 dark:text-red-400 dark:hover:bg-gray-700"
          aria-label="Close">
          <span class="sr-only">Close</span>
          <svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 14">
            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6" />
          </svg>
        </button>
      </div>


      <form (ngSubmit)="handleSubmit($event)" class="space-y-4">
        <div>
          <label for="name" class="block text-sm font-medium text-gray-700">Name</label>
          <input type="text" id="name" [(ngModel)]="name" name="name" #nameField="ngModel"
            class="mt-1 block w-full rounded-md border border-gray-300 shadow-sm focus:border-love-pink focus:ring focus:ring-love-pink focus:ring-opacity-50"
            required>
          <p class="text-red-500 text-sm" *ngIf="nameField.touched && name && name.length < 3">Name must be at least 3
            characters</p>
          <p class="text-red-500 text-sm" *ngIf="nameField.touched && !name">Name is required</p>
        </div>

        <div>
          <label for="email" class="block text-sm font-medium text-gray-700">Email</label>
          <input type="email" id="email" [(ngModel)]="email" name="email" #emailField="ngModel"
            class="mt-1 block w-full rounded-md border border-gray-300 shadow-sm focus:border-love-pink focus:ring focus:ring-love-pink focus:ring-opacity-50"
            required>
          <p class="text-red-500 text-sm" *ngIf="emailField.touched && email && !email.includes('@')">Enter a valid
            email</p>
          <p class="text-red-500 text-sm" *ngIf="emailField.touched && !email">Email is required</p>
        </div>

        <div class="relative">
          <label for="password" class="block text-sm font-medium text-gray-700">Password</label>
          <div class="relative">
            <input [type]="showPassword ? 'text' : 'password'" id="password" [(ngModel)]="password" name="password"
              #passwordField="ngModel"
              class="mt-1 block w-full rounded-md border border-gray-300 shadow-sm focus:border-love-pink focus:ring focus:ring-love-pink focus:ring-opacity-50 pr-10"
              required>
            <!-- Show/Hide Password Button -->
            <button type="button" (click)="togglePasswordVisibility()"
              class="absolute inset-y-0 right-2 flex items-center">
              <i-lucide [name]="showPassword ? 'eye' : 'eye-off'" class="text-gray-500 cursor-pointer"></i-lucide>
            </button>
          </div>

          <!-- Show only one password error at a time -->
          <p class="text-red-500 text-sm" *ngIf="passwordField.touched && getPasswordError()">
            {{ getPasswordError() }}
          </p>
        </div>


        <!-- Submit Button (Disabled When Invalid) -->
        <button type="submit" [disabled]="!isFormValid()"
          [ngClass]="{ 'bg-pink-400 cursor-not-allowed opacity-50': !isFormValid(), 'bg-love-pink hover:bg-love-red': isFormValid() }"
          class="w-full text-white font-bold py-3 px-4 rounded transition duration-300">
          Sign Up
        </button>

      </form>

      <p class="mt-4 mb-5 text-center">
        Already have an account?
        <a routerLink="/login" class="text-love-pink hover:text-love-red">Login</a>
      </p>
    </div>

    <!-- Image Section (Desktop View) -->
    <div class="hidden md:flex flex-col justify-center items-center w-1/2 h-full relative">

      <!-- Error Alert (Moved Above Image) -->
      <div *ngIf="showErrorAlert && !isMobile" id="alert-2" [ngClass]="{ 'fade-out': isClosing }"
        class="absolute top-0 left-1/2 transform -translate-x-1/2 -translate-y-5 w-full max-w-xs flex items-center p-4 mb-4 text-red-800 rounded-lg bg-red-50 dark:bg-gray-800 dark:text-red-400 shadow-lg"
        role="alert">

        <svg class="shrink-0 w-4 h-4" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor"
          viewBox="0 0 20 20">
          <path
            d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z" />
        </svg>

        <span class="sr-only">Error</span>
        <div class="ms-3 text-sm font-medium">
          {{ errorMessage }}
        </div>

        <button type="button" (click)="closeErrorAlert()"
          class="ms-auto -mx-1.5 -my-1.5 bg-red-50 text-red-500 rounded-lg focus:ring-2 focus:ring-red-400 p-1.5 hover:bg-red-200 inline-flex items-center justify-center h-8 w-8 dark:bg-gray-800 dark:text-red-400 dark:hover:bg-gray-700"
          aria-label="Close">
          <span class="sr-only">Close</span>
          <svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 14">
            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6" />
          </svg>
        </button>
      </div>


      <!-- Signup Image -->
      <img src="assets/b1.png" alt="CoupleConnect" class="max-w-[350px] max-h-[350px] object-contain mt-8">
    </div>


  </div>
</div>
